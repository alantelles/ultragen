include @Core.Web.AppResponseInterface
include @Core.Web.Router

r = new Router()
r.customTypes['zika'] = function(value)
    if (!(value.isInt()))
        return str(value.upper())
    end
    return null
end

r.get('/', :index, lambda(params) : live 'index')

r.get('/int/:zika.id', :docs, function(params)
    print(typeof(params[:id]))
    live params[:id]
end)

r.get('/bool/:bool.opt', :page, lambda(params) : live print(typeof(params[:opt])))

r.get('/float/:float.val', :page, lambda(params) : live print(typeof(params[:val])))

r.get('/num/:num.val', :num, lambda(params) : live print(typeof(params[:val])))

r.getMatch().localize()
live handler(params)