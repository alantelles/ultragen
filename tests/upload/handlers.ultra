include 'templates/base.ultra.html'

class Handlers

function index(params) : Handlers
    include 'templates/upload.ultra.html'
    content = UploadForm()
    live Base(content)
end

function saveUploadedFile(params) : Handlers
    include @Core.FileSystem
    live 'Receiving file'
    live '<br>'
    live $request[:files]
    live '<br>'
    fIn = $request[:files][:otherfield][:serverName]
    fOut = 'uploaded/' + ($request[:files][:otherfield][:fileName])
    FileSystem.copy(fIn, fOut)
    index = $router.urlFor(:index)
    live '<a href="' + index + '">Index</a>'
end